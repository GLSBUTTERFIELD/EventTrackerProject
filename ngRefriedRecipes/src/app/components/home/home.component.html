<h1 (click)="displayList()"> {{title}} <span class="badge text-bg-info">{{countRecipes()}}</span></h1>
<button class="btn btn-primary" (click)="addRecipeForm()">Add a Recipe</button>
<hr>

<div *ngIf="selected == null && newRecipe == null">
<div *ngFor="let recipe of recipes" (click)="showRecipe(recipe)">
  <p>{{recipe.id}}</p>
  <h1>{{recipe.title}}</h1>
  <img src="{{recipe.imageURL}}"/>
  <a href="{{recipe.websiteURL}}"></a>
  <p>{{recipe.description}}</p>
  <p>Prep Time: {{recipe.prepTime}} minutes</p>
  <p>Cook Time: {{recipe.cookTime}} minutes</p>
  <p>Total Time: {{recipe.totalTime}} minutes</p>
  <p>Food Type: {{recipe.foodType.name}}</p>
  <p>Categories</p>
  <ul>
    <li *ngFor="let category of recipe.categories">{{category.name}}</li>
  </ul>
  <hr>
</div>
</div>

<div *ngIf="selected != null && editRecipe == null">
  <h1>{{selected.title}}</h1>
  <p>Recipe # {{selected.id}}</p>
  <p>{{selected.description}}</p>
  <p>Food Type: {{selected.foodType.name}}</p>
  <p *ngFor="let category of selected.categories">Categories: {{category.name}}</p>
  <img src="{{selected.imageURL}}"><br>
  <ul>
    <li class="ingredientList" *ngFor="let recipeIngredient of selected.recipeIngredients">{{recipeIngredient.quantityAmount}} {{recipeIngredient.quantityUnit}}
      {{recipeIngredient.ingredient.name}}</li></ul>
      <p>{{selected.directions}}</p>
      <p *ngFor="let review of selected.reviews">{{review.title}}</p>
  <button class="btn btn-warning" (click)="displayList()">Back</button>
  <button class="btn btn-secondary" (click)="setEditRecipe()">Edit</button>
</div><br><br>

<div class="container" *ngIf="editRecipe != null">
  <form>
    <label for="title">Title</label>
    <input type="text" name="title" [(ngModel)]="editRecipe.title"><br>
    <label for ="description">Description</label>
    <textarea name="description" [(ngModel)]="editRecipe.description"></textarea><br>
    <label for="prepTime">Prep Time</label>
    <input type="number" name="prepTime" [(ngModel)]="editRecipe.prepTime"><br>
    <label for="prepTime">Cook Time</label>
    <input type="number" name="prepTime" [(ngModel)]="editRecipe.cookTime"><br>
    <label for="prepTime">Total Time</label>
    <input type="number" name="prepTime" [(ngModel)]="editRecipe.totalTime" value =><br>
    <label for="directions">Directions</label>
    <textarea name="directions" [(ngModel)]="editRecipe.directions"></textarea><br>
    <label for="source">Source</label>
    <input type="text" name ="source" [(ngModel)]="editRecipe.source"><br>
    <label for="websiteUrl">Website URL</label>
    <input type="text" name="websiteURL" [(ngModel)]="editRecipe.websiteURL"><br>
    <label for="imageUrl">Image URL</label>
    <input type="text" name="imageURL" [(ngModel)]="editRecipe.imageURL"><br>
    <label for ="foodType">Food Type</label>
    <select name="foodType" [(ngModel)]="editRecipe.foodType.id">
      <option *ngFor="let foodType of foodTypes" value="{{foodType.id}}">{{foodType.name}}</option>
    </select>
  </form><br>

  <button class="btn btn-warning" (click)="displayList()">Back</button>
  <button class="btn btn-success" (click)="updateRecipe(editRecipe)">Save</button>
  <button class="btn btn-danger" (click)="deleteRecipe(editRecipe.id)">Delete Recipe</button>
</div>


<div class="container" *ngIf="newRecipe !=null">
  <form>
    <label for="title">Title</label>
    <input type="text" name="title" [(ngModel)]="newRecipe.title"><br>
    <label for ="description">Description</label>
    <textarea name="description" [(ngModel)]="newRecipe.description"></textarea><br>
    <label for="prepTime">Prep Time</label>
    <input type="number" name="prepTime" [(ngModel)]="newRecipe.prepTime"><br>
    <label for="prepTime">Cook Time</label>
    <input type="number" name="prepTime" [(ngModel)]="newRecipe.cookTime"><br>
    <label for="prepTime">Total Time</label>
    <input type="number" name="prepTime" [(ngModel)]="newRecipe.totalTime" value =><br>
    <label for="directions">Directions</label>
    <textarea name="directions" [(ngModel)]="newRecipe.directions"></textarea><br>
    <label for="source">Source</label>
    <input type="text" name ="source" [(ngModel)]="newRecipe.source"><br>
    <label for="websiteUrl">Website URL</label>
    <input type="text" name="websiteURL" [(ngModel)]="newRecipe.websiteURL"><br>
    <label for="imageUrl">Image URL</label>
    <input type="text" name="imageURL" [(ngModel)]="newRecipe.imageURL"><br>
    <label for ="foodType">Food Type</label>
    <select name="foodType" [(ngModel)]="newRecipe.foodType.id">
      <option *ngFor="let foodType of foodTypes" value="{{foodType.id}}">{{foodType.name}}</option>
    </select><br><br>
    <button class="btn btn-warning" (click)="displayList()">Back</button>
    <button class="btn btn-success" (click)="addRecipe(newRecipe)">Save</button>
  </form>
</div>
